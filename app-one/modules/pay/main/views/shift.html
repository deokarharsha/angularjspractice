<div ng-controller="ShiftsCtrl">
  <div class="container-fluid">
    <form name="shiftForm" ng-submit="save(data);">
      <legend>Shifts Configuration</legend>
      <table class="table table-responsive table-striped table-bordered">
        <tr style="background-color:#ECECEC">
          <td>
            <input type="text" id="Name" name="name" class="form-control" ng-model="data.name" ng-disabled="editMode" title="Name is required." required>
          </td>
          <td>
            <input type="text" name="code" class="form-control" ng-model="data.code" ng-disabled="editMode" title="Code is required" maxlength="2" required>
          </td>
          <td>
            <input type="text" name="inTime" class="form-control" ng-model="data.inTime" ng-disabled="editMode" title="In Time is required" required>
          </td>
          <td>
            <input type="text" name="outTime" class="form-control" ng-model="data.outTime" ng-disabled="editMode" title="Out Time is required" required>
          </td>
          <td>
            <center><input type="checkbox" ng-model="data.nextDayOut" ng-disabled="editMode"></center>
          </td>
          <td>
            <span><button href="#/" class="btn btn-md btn-link" type="submit" ng-disabled="editMode"><i class="fa fa-plus"></i></button></span>
          </td>
        </tr>
        <tr>
          <th>Name</th>
          <th>Code</th>
          <th>In Time</th>
          <th>Out Time</th>
          <th>Next Day Out</th>
          <th style="width:30px"></th>
        </tr>
        <tr ng-repeat="shift in shifts track by $index">
          <td>
            <span ng-hide="edit[$index]">{{shift.name}}</span>
            <input type="text" ng-show="edit[$index]" class="form-control" name="name" ng-model="shift.name">
          </td>
          <td>
            <span ng-hide="edit[$index]">{{shift.code}}</span>
            <input type="text" ng-show="edit[$index]" class="form-control" name="code" ng-model="shift.code" maxlength="2">
          </td>
          <td>
            <span ng-hide="edit[$index]">{{shift.inTime}}</span>
            <input type="text" ng-show="edit[$index]" class="form-control" name="inTime" ng-model="shift.inTime">
          </td>
          <td>
            <span ng-hide="edit[$index]">{{shift.outTime}}</span>
            <input type="text" ng-show="edit[$index]" class="form-control" name="outTime" ng-model="shift.outTime">
          </td>
          <td>
            <span ng-hide="edit[$index]">{{shift.nextDayOut}}</span>
            <input type="checkbox" ng-show="edit[$index]" name="nextDayOut" ng-model="shift.nextDayOut">
          </td>
          <td>
            <button class="btn btn-md btn-link" type="button" ng-disabled="editMode" ng-hide="edit[$index]" ng-click="edit[$index] = true; setEditMode(true)"><i class="fa fa-pencil"></i></button>
            <a href="#/" class="btn btn-md btn-link" ng-show="edit[$index]" ng-click="save(shift); edit[$index] = false; setEditMode(false)"><i class="fa fa-floppy-o"></i></a>
          </td>
        </tr>
      </table>
    </form>
  </div>
</div>
